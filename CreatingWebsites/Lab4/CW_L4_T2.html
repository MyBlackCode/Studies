<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>CW_L4_T2</title>
        <style>
            body > div { width: 120px; height: 540px; background: lightblue; }
            body > div div { width: 100px; height: 100px; margin: 10px;}
            
        </style>
        <script>
            function dodajDivy()
            {
                document.getElementById("info").innerHTML=0;
                let staryDiv = document.getElementById("kosci");
                staryDiv.innerHTML = "";
                for(let i = 0; i < 5; i++){
                    var nowyDiv = document.createElement("div")
                    nowyDiv.innerHTML = Math.floor(Math.random() * 6) + 1;
                    nowyDiv.float = "left";
                    nowyDiv.setAttribute("id",`div${i+1}`);
                    nowyDiv.setAttribute("onClick", `RemoveDiv${i+1}()`);
                    let r = Math.floor(Math.random() * 255);
                    let g = Math.floor(Math.random() * 255);
                    let b = Math.floor(Math.random() * 255);
                    nowyDiv.style.backgroundColor = "rgb(" + r + ", " + g + ", " + b + ")";
                    staryDiv.append(nowyDiv);
                }
            }

            function noteRemove()
            {
                var wyswietl = document.getElementById("info").textContent;
                var lwyswietl = parseInt(wyswietl);
                lwyswietl++;
                document.getElementById("info").innerHTML=lwyswietl;
            }

            function noteAdd()
            {
                var wyswietl = document.getElementById("info").textContent;
                var lwyswietl = parseInt(wyswietl);
                lwyswietl--;
                document.getElementById("info").innerHTML=lwyswietl;
            }
            
            function RemoveDiv1()
            {
                let staryDiv = document.getElementById("kosci");
                let potomkowie = staryDiv.children;
                for(let i = 0; i <5; i++){
                    if(potomkowie[i].getAttribute('id')=="div1"){
                        staryDiv.removeChild(potomkowie[i]);
                        noteRemove();
                    }
                }
            }
            function RemoveDiv2()
            {
                let staryDiv = document.getElementById("kosci");
                let potomkowie = staryDiv.children;
                for(let i = 0; i <5; i++)
                {
                    if(potomkowie[i].getAttribute("id")=="div2"){
                        staryDiv.removeChild(potomkowie[i]);
                        noteRemove();
                    }
                }
            }
            function RemoveDiv3()
            {
                let staryDiv = document.getElementById("kosci");
                let potomkowie = staryDiv.children;
                for(let i = 0; i <5; i++)
                    if(potomkowie[i].getAttribute('id')=="div3"){
                        staryDiv.removeChild(potomkowie[i]);
                        noteRemove();
                    }
            }
            function RemoveDiv4()
            {
                let staryDiv = document.getElementById("kosci");
                let potomkowie = staryDiv.children;
                for(let i = 0; i <5; i++)
                    if(potomkowie[i].getAttribute('id')=="div4"){
                        staryDiv.removeChild(potomkowie[i]);
                        noteRemove();
                    }
            }

            function RemoveDiv5()
            {
                let staryDiv = document.getElementById("kosci");
                let potomkowie = staryDiv.children;
                for(let i = 0; i <5; i++)
                    if(potomkowie[i].getAttribute('id')=="div5"){
                        staryDiv.removeChild(potomkowie[i]);
                        noteRemove();
                    }
            }
            

            function dodajBrakujaceDivy()
            {
                let l = document.getElementById("info").textContent;
                let staryDiv = document.getElementById("kosci");
                let potomkowie = staryDiv.children;
                for(let m = 0 ; m<l; m++)
                {
                    var nowyDiv = document.createElement("div")
                    nowyDiv.innerHTML = Math.floor(Math.random() * 6) + 1;
                    nowyDiv.float = "left";
                    for(let i = 0; i <5; i++)
                    {
                        let k = 0;
                        for(let j = 0; j<potomkowie.length; j++)
                        {
                            if(potomkowie[j].getAttribute('id')==`div${i+1}`){
                                k = 1;
                                break;}
                        }
                        if(k==0)
                        {
                            console.log(`div${i+1}`);
                            nowyDiv.setAttribute("id",`div${i+1}`);
                            nowyDiv.setAttribute("onClick", `RemoveDiv${i+1}()`);
                            break;
                        }
                    }
                    let r = Math.floor(Math.random() * 255);
                    let g = Math.floor(Math.random() * 255);
                    let b = Math.floor(Math.random() * 255);
                    nowyDiv.style.backgroundColor = "rgb(" + r + ", " + g + ", " + b + ")";
                    staryDiv.append(nowyDiv);
                    noteAdd();
                }
            }
            
        </script>
    </head>
    <body>
        <div id="kosci"></div>
        <button onclick="dodajDivy();">Rzuc kości</button><br><br>
        <span id="info">0</span>
        <button onclick="dodajBrakujaceDivy();">Rzuc kości ponownie</button>
    </body>
</html>