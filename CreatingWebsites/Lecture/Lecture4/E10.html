<!DOCTYPE html>
<html>
    <head>  
        <meta charset="utf-8">
        <style>
            body > div { width: 200px; height: 200px; background: rgb(50, 50, 50); }
            body > div div { width: 200px; height: 40px; background: rgb(200, 200, 200); }
        </style>
        <script>
            window.onload = function() {
                let pierwszyDiv = document.getElementById("main");
                pierwszyDiv.onclick = function() {
                    let nowyDiv = document.createElement("div");
                    pierwszyDiv.append(nowyDiv);
                    nowyDiv.onclick = function() {
                        let r = Math.floor(Math.random() * 255);
                        let g = Math.floor(Math.random() * 255);
                        let b = Math.floor(Math.random() * 255);
                        nowyDiv.style.backgroundColor ="rgb(" + r + ", " + g + ", " + b + ")";
                        pierwszyDiv.style.backgroundColor ="rgb(" + b + ", " + r + ", " + g + ")";
                    }
                }   
            }
        </script>
    </head>
    <body>
        <div id="main"></div>
    </body>
    
</html>